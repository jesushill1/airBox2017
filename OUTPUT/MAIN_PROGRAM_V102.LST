文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次1


   1  0000              
   2  0000              message '****************************************************************'
   3  0000              message '*PROJECT NAME :MAIN PROGRAM V102                               *'
   4  0000              message '*     VERSION :V102                                            *'
   5  0000              message '* ICE VERSION :                                                *'
   6  0000              message '*      DATE   :20150317                                        *'
   7  0000              message '*      REMARK :V102 modify ESCpowerIDcheck2,PBP                *'
   8  0000              message '****************************************************************'
   9  0000                              ;=INCLUDE REFERENCE FILE
  10  0000                              INCLUDE MAIN_PROGRAM_V102.INC












  11  0000              
  12  0000                              ;-PUBLIC LABEL
  13  0000                              PUBLIC  _LOAD_TKS_GLOBE_VARIES
  14  0000                              PUBLIC  _LOAD_HXT_REFERENCE
  15  0000              
  16  0000              CALL_   MACRO   FUNCTION
  17  0000                      ifdef   FUNCTION
  18  0000                              ifdef   PBP
  19  0000                              MOV     A,bank FUNCTION
  20  0000                              MOV     PBP,A
  21  0000                              endif
  22  0000                              CALL    FUNCTION
  23  0000                      endif
  24  0000                              ENDM
  25  0000              
  26  0000              EXTEND_FUNCTION_INITIAL MACRO
  27  0000                              CALL_   EXTEND_FUNCTION_1A_INITIAL
  28  0000                              CALL_   EXTEND_FUNCTION_1B_INITIAL
  29  0000                              CALL_   EXTEND_FUNCTION_1C_INITIAL
  30  0000                              CALL_   EXTEND_FUNCTION_1D_INITIAL
  31  0000                              CALL_   EXTEND_FUNCTION_1E_INITIAL
  32  0000                              CALL_   EXTEND_FUNCTION_1F_INITIAL
  33  0000                              CALL_   EXTEND_FUNCTION_1G_INITIAL
  34  0000                              CALL_   EXTEND_FUNCTION_1H_INITIAL
  35  0000              
  36  0000                              CALL_   EXTEND_FUNCTION_2A_INITIAL
  37  0000                              CALL_   EXTEND_FUNCTION_2B_INITIAL
  38  0000                              CALL_   EXTEND_FUNCTION_2C_INITIAL
  39  0000                              CALL_   EXTEND_FUNCTION_2D_INITIAL
  40  0000                              CALL_   EXTEND_FUNCTION_2E_INITIAL
  41  0000                              CALL_   EXTEND_FUNCTION_2F_INITIAL
  42  0000                              CALL_   EXTEND_FUNCTION_2G_INITIAL
  43  0000                              CALL_   EXTEND_FUNCTION_2H_INITIAL
  44  0000                              ENDM
  45  0000              
  46  0000              EXTEND_FUNCTION MACRO
  47  0000                              CALL_   EXTEND_FUNCTION_1A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次2

  48  0000                              CALL_   EXTEND_FUNCTION_1B
  49  0000                              CALL_   EXTEND_FUNCTION_1C
  50  0000                              CALL_   EXTEND_FUNCTION_1D
  51  0000                              CALL_   EXTEND_FUNCTION_1E
  52  0000                              CALL_   EXTEND_FUNCTION_1F
  53  0000                              CALL_   EXTEND_FUNCTION_1G
  54  0000                              CALL_   EXTEND_FUNCTION_1H
  55  0000              
  56  0000                              CALL_   EXTEND_FUNCTION_2A
  57  0000                              CALL_   EXTEND_FUNCTION_2B
  58  0000                              CALL_   EXTEND_FUNCTION_2C
  59  0000                              CALL_   EXTEND_FUNCTION_2D
  60  0000                              CALL_   EXTEND_FUNCTION_2E
  61  0000                              CALL_   EXTEND_FUNCTION_2F
  62  0000                              CALL_   EXTEND_FUNCTION_2G
  63  0000                              CALL_   EXTEND_FUNCTION_2H
  64  0000                              ENDM
  65  0000                              ;==============
  66  0000                              ;=DATA SETCTION
  67  0000                              ;==============
  68  0000              MAIN_DATA       .SECTION          'DATA'
  69  0000              
  70  0000              ifndef  ESCpowerIDcheck
  71  0000  0002[       POR_ID          DB      2 DUP(?)
            00
            ]
  72  0002              endif
  73  0002              
  74  0002              
  75  0002              
  76  0002                              ;==============
  77  0002                              ;=CODE SETCTION
  78  0002                              ;==============
  79  0000              PROGRAM_ENTRY   .SECTION  AT 000H 'CODE'
  80  0000                      ifdef   PBP
  81  0000                              CLR     PBP
  82  0000                              ifndef  ESCpowerIDcheck
  83  0000                              MOV     A,042H      ;ASCII = B
  84  0000                              endif
  85  0000                      else
  86  0000                              ;----------------
  87  0000                              ;-SET POR ID 1---
  88  0000                              ;----------------
  89  0000                              ifndef  ESCpowerIDcheck
  90  0000  0F42                        MOV     A,042H      ;ASCII = B
  91  0001  3A8A                        SNZ     TO
  92  0002  0080     R                  MOV     POR_ID[0],A
  93  0003                              endif
  94  0003                      endif
  95  0003  2800     R                  JMP     PROGRAM_RESET
  96  0004              
  97  0004                              ;==============
  98  0004                              ;=MAIN PROGRAM=
  99  0004                              ;==============
 100  0000              MAIN_PROGRAM    .SECTION          'CODE'
 101  0000              
 102  0000                              ;;***********************
 103  0000              PROGRAM_RESET:  ;;* PROGRAM ENTRY *******
 104  0000                              ;;***********************
 105  0000                      ifdef   PBP
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次3

 106  0000                              ifndef  ESCpowerIDcheck
 107  0000                              SNZ     TO
 108  0000                              MOV     POR_ID[0],A
 109  0000                              endif
 110  0000                      endif
 111  0000                              ;----------------
 112  0000                              ;-SET POR ID 2---
 113  0000                              ;----------------
 114  0000                      ifndef  ESCpowerIDcheck
 115  0000  0F53                        MOV     A,053H      ;ASCII = S
 116  0001  0080     R                  MOV     POR_ID[1],A
 117  0002                      endif
 118  0002              
 119  0002              
 120  0002                              ;---------------------
 121  0002                              ;-MCU HARDWARE INITIAL
 122  0002                              ;---------------------
 123  0002                              MCU_HARDWARE_INITIAL
 123  0002            1                 ifdef   _BS83A02A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83A04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83A04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次4

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次5

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B06A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B06A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次6

 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次7

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK2 280H~2DFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次8

 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR     ACERL
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次9

 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B16   ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B16_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1 
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次10

 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002  0F00      1                         MOV     A,(( 0<<4)&00110000B)
 123  0003  00BD      1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0004            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0004  0F03      1                         MOV     A,00000011B
 123  0005  008B      1                         MOV [0BH],A
 123  0006            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0006            1                       ;;MOV     A,01010011B     ;500   MS
 123  0006  0F52      1                         MOV     A,01010010B     ;125   MS
 123  0007  009A      1                         MOV [01AH],A
 123  0008            1                         ;-IF POWER SAVING MODE ENABLE
 123  0008            1                         if 0==1
 123  0008            1                         SZ [0AH].5
 123  0008            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0008            1                         endif
 123  0008            1                         ;-CLEAR BANK3 380H~2FFH
 123  0008  0F03      1                         MOV     A,3
 123  0009  0084      1                         MOV [04H],A
 123  000A  0F80      1                         MOV     A,80H
 123  000B  2000     R1                         CALL    CLEAR_RAM
 123  000C            1                         ;-CLEAR BANK2 280H~2FFH
 123  000C  0F02      1                         MOV     A,2
 123  000D  0084      1                         MOV [04H],A
 123  000E  0F80      1                         MOV     A,80H
 123  000F  2000     R1                         CALL    CLEAR_RAM
 123  0010            1                         ;-CLEAR BANK1 180H~1FFH
 123  0010  0F01      1                         MOV     A,1
 123  0011  0084      1                         MOV [04H],A
 123  0012  0F80      1                         MOV     A,80H
 123  0013  2000     R1                         CALL    CLEAR_RAM
 123  0014            1                         ;-CLEAR BANK0 080H~0FFH
 123  0014  1F04      1                         CLR [04H]
 123  0015  0F80      1                         MOV     A,80H
 123  0016  2000     R1                         CALL    CLEAR_RAM
 123  0017            1                 endif
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次11

 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS82D20A  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS82D20A_
 123  0017            1                         ;-SET SYSTEM CLOCK
 123  0017            1                         MOV     A,(( 0<<4)&00110000B)
 123  0017            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0017            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0017            1                         MOV     A,00000011B
 123  0017            1                         MOV [0BH],A
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS45FH21  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS45FH21_
 123  0017            1 
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次12

 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK7 780H~7FFH
 123  0017            1                         MOV     A,7
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1               ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66F340  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66F340_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次13

 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1 
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66F350  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66F350_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1 
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次14

 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66F360  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66F360_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK7 780H~7FFH
 123  0017            1                         MOV     A,7
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次15

 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS67F340  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS67F340_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次16

 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS67F350  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS67F350_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次17

 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS67F360  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS67F360_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK7 780H~7FFH
 123  0017            1                         MOV     A,7
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次18

 123  0017            1                         MOV     A,60H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66FV340  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66FV340_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  0017            1                         ;;;;;MOV     A,7
 123  0017            1                         ;;;;;MOV     BP,A
 123  0017            1                         ;;;;;MOV     A,80H
 123  0017            1                         ;;;;;CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;;;;;;-CLEAR BANK4 480H~2FFH
 123  0017            1                         ;;;;;MOV     A,4
 123  0017            1                         ;;;;;MOV     BP,A
 123  0017            1                         ;;;;;MOV     A,80H
 123  0017            1                         ;;;;;CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次19

 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66FV350  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66FV350_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  0017            1                         ;;;;;MOV     A,7
 123  0017            1                         ;;;;;MOV     BP,A
 123  0017            1                         ;;;;;MOV     A,80H
 123  0017            1                         ;;;;;CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次20

 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS66FV360  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS66FV360_
 123  0017            1 
 123  0017            1                         ;CLR     SCC
 123  0017            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0017            1                         ANDM    A,SCC
 123  0017            1 
 123  0017            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0017            1                         MOV     HIRCC,A
 123  0017            1 
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-CLEAR BANK7 780H~7FFH
 123  0017            1                         MOV     A,7
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 680H~6FFH
 123  0017            1                         MOV     A,6
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次21

 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS86B12A  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS86B12A_
 123  0017            1                         ;-SET SYSTEM CLOCK
 123  0017            1                         MOV     A,(( 0<<4)&00110000B)
 123  0017            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0017            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0017            1                         MOV     A,00000011B
 123  0017            1                         MOV [0BH],A
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-DISABLE ADC
 123  0017            1                         CLR     ACERL
 123  0017            1                         MOV     A,01100000B
 123  0017            1                         MOV     ADCR0,A
 123  0017            1                         CLR     ADCR1
 123  0017            1                       ;;;-CLEAR BANK3 380H~2FFH
 123  0017            1                       ;;MOV     A,3
 123  0017            1                       ;;MOV     BP,A
 123  0017            1                       ;;MOV     A,80H
 123  0017            1                       ;;CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS86C16A  ---------
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次22

 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS86C16A_
 123  0017            1                         ;-SET SYSTEM CLOCK
 123  0017            1                         MOV     A,(( 0<<4)&00110000B)
 123  0017            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0017            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0017            1                         MOV     A,00000011B
 123  0017            1                         MOV [0BH],A
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-DISABLE ADC
 123  0017            1                         CLR     ACERL
 123  0017            1                         MOV     A,01100000B
 123  0017            1                         MOV     ADCR0,A
 123  0017            1                         CLR     ADCR1
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS86D20A  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS86D20A_
 123  0017            1                         ;-SET SYSTEM CLOCK
 123  0017            1                         MOV     A,(( 0<<4)&00110000B)
 123  0017            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0017            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0017            1                         MOV     A,00000011B
 123  0017            1                         MOV [0BH],A
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次23

 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-DISABLE ADC
 123  0017            1                         CLR     ACERL
 123  0017            1                         MOV     A,01100000B
 123  0017            1                         MOV     ADCR0,A
 123  0017            1                         CLR     ADCR1
 123  0017            1                         ;-CLEAR BANK5 580H~2FFH
 123  0017            1                         MOV     A,5
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK4 480H~2FFH
 123  0017            1                         MOV     A,4
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1 
 123  0017            1                 ;--------------------------------
 123  0017            1                 ;-INITIAL FOR BS87C16A  ---------
 123  0017            1                 ;--------------------------------
 123  0017            1                 ifdef   _BS87C16A_
 123  0017            1                         ;-SET SYSTEM CLOCK
 123  0017            1                         MOV     A,(( 0<<4)&00110000B)
 123  0017            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0017            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0017            1                         MOV     A,00000011B
 123  0017            1                         MOV [0BH],A
 123  0017            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0017            1                       ;;MOV     A,01010011B     ;500   MS
 123  0017            1                         MOV     A,01010010B     ;125   MS
 123  0017            1                         MOV [01AH],A
 123  0017            1                         ;-IF POWER SAVING MODE ENABLE
 123  0017            1                         if 0==1
 123  0017            1                         SZ [0AH].5
 123  0017            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0017            1                         endif
 123  0017            1                         ;-DISABLE ADC
 123  0017            1                         CLR     ACERL
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次24

 123  0017            1                         MOV     A,01100000B
 123  0017            1                         MOV     ADCR0,A
 123  0017            1                         CLR     ADCR1
 123  0017            1                         ;-CLEAR BANK3 380H~2FFH
 123  0017            1                         MOV     A,3
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK2 280H~2FFH
 123  0017            1                         MOV     A,2
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK1 180H~1FFH
 123  0017            1                         MOV     A,1
 123  0017            1                         MOV [04H],A
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                         ;-CLEAR BANK0 080H~0FFH
 123  0017            1                         CLR [04H]
 123  0017            1                         MOV     A,80H
 123  0017            1                         CALL    CLEAR_RAM
 123  0017            1                 endif
 123  0017            1 
 123  0017            1 
 123  0017            1 
 124  0017              
 125  0017                              ;------------------------------
 126  0017                              ;-LOAD LIBRARY OPTION/THRESHOLD
 127  0017                              ;------------------------------
 128  0017  2000     R                  CALL    _LOAD_TKS_GLOBE_VARIES
 129  0018              
 130  0018                              ;------------------------
 131  0018                              ;-EXTEND FUNCTION INITIAL
 132  0018                              ;------------------------
 133  0018                              EXTEND_FUNCTION_INITIAL
 133  0018            1                 CALL_   EXTEND_FUNCTION_1A_INITIAL
 133  0018            2         ifdef EXTEND_FUNCTION_1A_INITIAL
 133  0018            2                 ifdef   PBP
 133  0018            2                 MOV     A,bank _BS82C16A_LIBV413_INITIAL
 133  0018            2                 MOV     PBP,A
 133  0018            2                 endif
 133  0018  2000     E2                 CALL _BS82C16A_LIBV413_INITIAL
 133  0019            2         endif
 133  0019            1                 CALL_   EXTEND_FUNCTION_1B_INITIAL
 133  0019            2         ifdef EXTEND_FUNCTION_1B_INITIAL
 133  0019            2                 ifdef   PBP
 133  0019            2                 MOV     A,bank EXTEND_FUNCTION_1B_INITIAL
 133  0019            2                 MOV     PBP,A
 133  0019            2                 endif
 133  0019            2                 CALL EXTEND_FUNCTION_1B_INITIAL
 133  0019            2         endif
 133  0019            1                 CALL_   EXTEND_FUNCTION_1C_INITIAL
 133  0019            2         ifdef EXTEND_FUNCTION_1C_INITIAL
 133  0019            2                 ifdef   PBP
 133  0019            2                 MOV     A,bank EXTEND_FUNCTION_1C_INITIAL
 133  0019            2                 MOV     PBP,A
 133  0019            2                 endif
 133  0019            2                 CALL EXTEND_FUNCTION_1C_INITIAL
 133  0019            2         endif
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次25

 133  0019            1                 CALL_   EXTEND_FUNCTION_1D_INITIAL
 133  0019            2         ifdef EXTEND_FUNCTION_1D_INITIAL
 133  0019            2                 ifdef   PBP
 133  0019            2                 MOV     A,bank _USER_PROGRAM_INITIAL
 133  0019            2                 MOV     PBP,A
 133  0019            2                 endif
 133  0019  2000     E2                 CALL _USER_PROGRAM_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_1E_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_1E_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_1E_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_1E_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_1F_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_1F_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_1F_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_1F_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_1G_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_1G_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_1G_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_1G_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_1H_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_1H_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_1H_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_1H_INITIAL
 133  001A            2         endif
 133  001A            1 
 133  001A            1                 CALL_   EXTEND_FUNCTION_2A_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2A_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2A_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2A_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2B_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2B_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2B_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2B_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2C_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2C_INITIAL
 133  001A            2                 ifdef   PBP
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次26

 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2C_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2C_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2D_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2D_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2D_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2D_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2E_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2E_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2E_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2E_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2F_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2F_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2F_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2F_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2G_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2G_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2G_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2G_INITIAL
 133  001A            2         endif
 133  001A            1                 CALL_   EXTEND_FUNCTION_2H_INITIAL
 133  001A            2         ifdef EXTEND_FUNCTION_2H_INITIAL
 133  001A            2                 ifdef   PBP
 133  001A            2                 MOV     A,bank EXTEND_FUNCTION_2H_INITIAL
 133  001A            2                 MOV     PBP,A
 133  001A            2                 endif
 133  001A            2                 CALL EXTEND_FUNCTION_2H_INITIAL
 133  001A            2         endif
 134  001A              
 135  001A                              ;;-----------------------
 136  001A              MAIN_LOOP:      ;;- MAIN PROGRAM LOOP ---
 137  001A                              ;;-----------------------
 138  001A  0001                        CLR     WDT
 139  001B  0001                        CLR     WDT1
 140  001C  0005                        CLR     WDT2
 141  001D              
 142  001D                              ;----------------
 143  001D                              ;-CHECK POR ID --
 144  001D                              ;----------------
 145  001D                      ifndef  ESCpowerIDcheck
 146  001D  0F42                        MOV     A,042H
 147  001E  0480     R                  XORM    A,POR_ID[0]
 148  001F  0F53                        MOV     A,053H
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次27

 149  0020  3D0A                        SZ      Z
 150  0021  0480     R                  XORM    A,POR_ID[1]
 151  0022  390A                        SNZ     Z
 152  0023  2800                        JMP     000H
 153  0024                      endif
 154  0024                              ;----------------------
 155  0024                              ;-RE INITIAL SYS. CLOCK
 156  0024                              ;----------------------
 157  0024                              RELOAD_SYS_CLOCK
 157  0024            1                 ifdef   _BS83A02A_
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1 
 157  0024            1                 endif
 157  0024            1 
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS83A04A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS83A04A_
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS83B04A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS83B04A_
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS83B08A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS83B08A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS83B12A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS83B12A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS83B16A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS83B16A_
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次28

 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS84B06A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS84B06A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                       ;;MOV     A,(SystemClock<<4)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS84B08A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS84B08A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS84C12A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS84C12A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS84C16A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS84C16A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0024            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0024            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS84D20A  ---------
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次29

 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS84D20A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0024            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0024            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS82B16   ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS82B16_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0024            1                         MOV [03DH],A
 157  0024            1                         ;--
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS82B12A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS82B12A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0024            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0024            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0024            1                         MOV     A,00000011B
 157  0024            1                         MOV [0BH],A
 157  0024            1                 endif
 157  0024            1 
 157  0024            1                 ;--------------------------------
 157  0024            1                 ;-INITIAL FOR BS82C16A  ---------
 157  0024            1                 ;--------------------------------
 157  0024            1                 ifdef   _BS82C16A_
 157  0024            1                         ;-SET SYSTEM CLOCK
 157  0024  0F00      1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0025  00BD      1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0026            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0026  0F03      1                         MOV     A,00000011B
 157  0027  008B      1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS82D20A  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS82D20A_
 157  0028            1                         ;-SET SYSTEM CLOCK
 157  0028            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0028            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0028            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0028            1                         MOV     A,00000011B
 157  0028            1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次30

 157  0028            1                 ;-INITIAL FOR BS45FH21  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS45FH21_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         SET     HIRCEN
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66F340  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66F340_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66F350  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66F350_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66F360  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66F360_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS67F340  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS67F340_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS67F350  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS67F350_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次31

 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS67F360  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS67F360_
 157  0028            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0028            1                         MOV     A,00011111B
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66FV340  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66FV340_
 157  0028            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66FV350  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66FV350_
 157  0028            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS66FV360  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS66FV360_
 157  0028            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0028            1                         ANDM    A,SCC
 157  0028            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0028            1                         MOV     HIRCC,A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS86B12A  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS86B12A_
 157  0028            1                         ;-SET SYSTEM CLOCK
 157  0028            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0028            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0028            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0028            1                         MOV     A,00000011B
 157  0028            1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS86C16A  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS86C16A_
 157  0028            1                         ;-SET SYSTEM CLOCK
 157  0028            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0028            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0028            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0028            1                         MOV     A,00000011B
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次32

 157  0028            1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS86D20A  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS86D20A_
 157  0028            1                         ;-SET SYSTEM CLOCK
 157  0028            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0028            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0028            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0028            1                         MOV     A,00000011B
 157  0028            1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1                 ;--------------------------------
 157  0028            1                 ;-INITIAL FOR BS87C16A  ---------
 157  0028            1                 ;--------------------------------
 157  0028            1                 ifdef   _BS87C16A_
 157  0028            1                         ;-SET SYSTEM CLOCK
 157  0028            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0028            1                         MOV [03DH],A          ;BIT7=FSYSON
 157  0028            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0028            1                         MOV     A,00000011B
 157  0028            1                         MOV [0BH],A
 157  0028            1                 endif
 157  0028            1 
 157  0028            1 
 158  0028                              EXTEND_FUNCTION
 158  0028            1                 CALL_   EXTEND_FUNCTION_1A
 158  0028            2         ifdef EXTEND_FUNCTION_1A
 158  0028            2                 ifdef   PBP
 158  0028            2                 MOV     A,bank _BS82C16A_LIBV413
 158  0028            2                 MOV     PBP,A
 158  0028            2                 endif
 158  0028  2000     E2                 CALL _BS82C16A_LIBV413
 158  0029            2         endif
 158  0029            1                 CALL_   EXTEND_FUNCTION_1B
 158  0029            2         ifdef EXTEND_FUNCTION_1B
 158  0029            2                 ifdef   PBP
 158  0029            2                 MOV     A,bank EXTEND_FUNCTION_1B
 158  0029            2                 MOV     PBP,A
 158  0029            2                 endif
 158  0029            2                 CALL EXTEND_FUNCTION_1B
 158  0029            2         endif
 158  0029            1                 CALL_   EXTEND_FUNCTION_1C
 158  0029            2         ifdef EXTEND_FUNCTION_1C
 158  0029            2                 ifdef   PBP
 158  0029            2                 MOV     A,bank EXTEND_FUNCTION_1C
 158  0029            2                 MOV     PBP,A
 158  0029            2                 endif
 158  0029            2                 CALL EXTEND_FUNCTION_1C
 158  0029            2         endif
 158  0029            1                 CALL_   EXTEND_FUNCTION_1D
 158  0029            2         ifdef EXTEND_FUNCTION_1D
 158  0029            2                 ifdef   PBP
 158  0029            2                 MOV     A,bank _USER_PROGRAM
 158  0029            2                 MOV     PBP,A
 158  0029            2                 endif
 158  0029  2000     E2                 CALL _USER_PROGRAM
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次33

 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_1E
 158  002A            2         ifdef EXTEND_FUNCTION_1E
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_1E
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_1E
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_1F
 158  002A            2         ifdef EXTEND_FUNCTION_1F
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_1F
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_1F
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_1G
 158  002A            2         ifdef EXTEND_FUNCTION_1G
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_1G
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_1G
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_1H
 158  002A            2         ifdef EXTEND_FUNCTION_1H
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_1H
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_1H
 158  002A            2         endif
 158  002A            1 
 158  002A            1                 CALL_   EXTEND_FUNCTION_2A
 158  002A            2         ifdef EXTEND_FUNCTION_2A
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2A
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2A
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2B
 158  002A            2         ifdef EXTEND_FUNCTION_2B
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2B
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2B
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2C
 158  002A            2         ifdef EXTEND_FUNCTION_2C
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2C
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2C
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2D
 158  002A            2         ifdef EXTEND_FUNCTION_2D
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次34

 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2D
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2D
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2E
 158  002A            2         ifdef EXTEND_FUNCTION_2E
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2E
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2E
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2F
 158  002A            2         ifdef EXTEND_FUNCTION_2F
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2F
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2F
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2G
 158  002A            2         ifdef EXTEND_FUNCTION_2G
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2G
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2G
 158  002A            2         endif
 158  002A            1                 CALL_   EXTEND_FUNCTION_2H
 158  002A            2         ifdef EXTEND_FUNCTION_2H
 158  002A            2                 ifdef   PBP
 158  002A            2                 MOV     A,bank EXTEND_FUNCTION_2H
 158  002A            2                 MOV     PBP,A
 158  002A            2                 endif
 158  002A            2                 CALL EXTEND_FUNCTION_2H
 158  002A            2         endif
 159  002A                              ;----------------
 160  002A                              ;-SET POR ID  ---
 161  002A                              ;----------------
 162  002A                      ifndef  ESCpowerIDcheck
 163  002A  0F42                        MOV     A,042H      ;ASCII = B
 164  002B  0080     R                  MOV     POR_ID[0],A
 165  002C  0F53                        MOV     A,053H      ;ASCII = S
 166  002D  0080     R                  MOV     POR_ID[1],A
 167  002E                      endif
 168  002E              
 169  002E                              ;--------------------
 170  002E              WDT_WAKEUP:     ;-WDT WAKEUP FUNCTION
 171  002E                              ;--------------------
 172  002E                              if      PowerSave==1
 173  002E                              CALL_   _CHECK_KEY_WAKEUP
 174  002E                              endif
 175  002E              
 176  002E                              ifdef   PBP
 177  002E                              MOV     A,BANK MAIN_LOOP
 178  002E                              MOV     PBP,A
 179  002E                              endif
 180  002E  2800     R                  JMP     MAIN_LOOP
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次35

 181  002F              
 182  002F              
 183  002F              
 184  002F              
 185  002F              
 186  002F              
 187  002F              
 188  002F              
 189  002F              
 190  002F              ;;***********************************************************
 191  002F              ;;*SUB. NAME:                                               *
 192  002F              ;;*INPUT    :                                               *
 193  002F              ;;*OUTPUT   :                                               *
 194  002F              ;;*USED REG.:                                               *
 195  002F              ;;*FUNCTION :                                               *
 196  002F              ;;***********************************************************
 197  002F              CLEAR_RAM:
 198  002F  0083                        MOV     MP1,A
 199  0030                      ifndef  ESCpowerIDcheck
 200  0030                          ifdef  BP
 201  0030                              ;-CHECK BANK
 202  0030  1084                        SZ      BP
 203  0031  2800     R                  JMP     CLR_RAM
 204  0032                          endif
 205  0032                              ;-CHECK POR_ID RAM
 206  0032  0F00     R                  MOV     A,OFFSET POR_ID
 207  0033  0403                        XOR     A,MP1
 208  0034  0F00     R                  MOV     A,OFFSET POR_ID+1
 209  0035  390A                        SNZ     Z
 210  0036  0403                        XOR     A,MP1
 211  0037  390A                        SNZ     Z
 212  0038                      endif
 213  0038              CLR_RAM:        ;-CLEAR RAM
 214  0038  1F02                        CLR     IAR1
 215  0039  1603                        SIZA    MP1
 216  003A  2800     R                  JMP     CLEAR_RAM
 217  003B              
 218  003B  0003                        RET
 219  003C              
 220  003C              
 221  003C              ;;***********************************************************
 222  003C              ;;*SUB. NAME:                                               *
 223  003C              ;;*INPUT    :                                               *
 224  003C              ;;*OUTPUT   :                                               *
 225  003C              ;;*USED REG.:                                               *
 226  003C              ;;*FUNCTION :                                               *
 227  003C              ;;***********************************************************
 228  003C              _LOAD_TKS_GLOBE_VARIES:
 229  003C              _LOAD_HXT_REFERENCE:
 230  003C                              ;------------------------
 231  003C                              ;-SET TKS LIBRARY OPTION-
 232  003C                              ;------------------------
 233  003C  0F72                        MOV     A,GlobeOptionA
 234  003D  0080     E                  MOV     _GLOBE_VARIES[0],A
 235  003E  0FF0                        MOV     A,GlobeOptionB
 236  003F  0080     E                  MOV     _GLOBE_VARIES[1],A
 237  0040  0F98                        MOV     A,GlobeOptionC
 238  0041  0080     E                  MOV     _GLOBE_VARIES[2],A
 239  0042              
 240  0042                              ;--------------------------
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次36

 241  0042                              ;-SET TOUCH OR IO ATTRIBUTE
 242  0042                              ;--------------------------
 243  0042  0F80                        MOV     A,IO_TOUCH_ATTR&0FFH
 244  0043  0080     E                  MOV     _KEY_IO_SEL[0],A
 245  0044                              ;-IF OVER 2 TOUCH IP (8~16KEY)
 246  0044                              if      TouchKeyAmount > 8
 247  0044  0F00                        MOV     A,(IO_TOUCH_ATTR>>8)&0FFH
 248  0045  0080     E                  MOV     _KEY_IO_SEL[1],A
 249  0046                              endif
 250  0046                              ;-IF OVER 4 TOUCH IP (17~24KEY)
 251  0046                              if      TouchKeyAmount > 16
 252  0046                              MOV     A,(IO_TOUCH_ATTR>>16)&0FFH
 253  0046                              MOV     _KEY_IO_SEL[2],A
 254  0046                              endif
 255  0046                              ;-IF OVER 6 TOUCH IP (25~32KEY)
 256  0046                              if      TouchKeyAmount > 24
 257  0046                              MOV     A,(IO_TOUCH_ATTR>>24)&0FFH
 258  0046                              MOV     _KEY_IO_SEL[3],A
 259  0046                              endif
 260  0046              
 261  0046                              ;------------------------
 262  0046                              ;-SET TOUCH KEY THRESHOLD
 263  0046                              ;------------------------
 264  0046                              ;-KEY1 THRESHOLD
 265  0046  0F10                        MOV     A,Key1Threshold
 266  0047  0080     E                  MOV     _GLOBE_VARIES[3],A
 267  0048              
 268  0048                              if      TouchKeyAmount > 1
 269  0048                              ;-KEY2 THRESHOLD
 270  0048  0F10                        MOV     A,Key2Threshold
 271  0049  0080     E                  MOV     _GLOBE_VARIES[4],A
 272  004A                              endif
 273  004A              
 274  004A                              if      TouchKeyAmount > 2
 275  004A                              ;-KEY3 THRESHOLD
 276  004A  0F10                        MOV     A,Key3Threshold
 277  004B  0080     E                  MOV     _GLOBE_VARIES[5],A
 278  004C                              endif
 279  004C              
 280  004C                              if      TouchKeyAmount > 3
 281  004C                              ;-KEY4 THRESHOLD
 282  004C  0F10                        MOV     A,Key4Threshold
 283  004D  0080     E                  MOV     _GLOBE_VARIES[6],A
 284  004E                              endif
 285  004E              
 286  004E                              if      TouchKeyAmount > 4
 287  004E                              ;-KEY5 THRESHOLD
 288  004E  0F10                        MOV     A,Key5Threshold
 289  004F  0080     E                  MOV     _GLOBE_VARIES[7],A
 290  0050                              endif
 291  0050              
 292  0050                              if      TouchKeyAmount > 5
 293  0050                              ;-KEY6 THRESHOLD
 294  0050  0F10                        MOV     A,Key6Threshold
 295  0051  0080     E                  MOV     _GLOBE_VARIES[8],A
 296  0052                              endif
 297  0052              
 298  0052                              if      TouchKeyAmount > 6
 299  0052                              ;-KEY7 THRESHOLD
 300  0052  0F10                        MOV     A,Key7Threshold
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次37

 301  0053  0080     E                  MOV     _GLOBE_VARIES[9],A
 302  0054                              endif
 303  0054              
 304  0054                              if      TouchKeyAmount > 7
 305  0054                              ;-KEY8 THRESHOLD
 306  0054  0F10                        MOV     A,Key8Threshold
 307  0055  0080     E                  MOV     _GLOBE_VARIES[10],A
 308  0056                              endif
 309  0056              
 310  0056                              if     TouchKeyAmount > 8
 311  0056                              ;-KEY9 THRESHOLD
 312  0056  0F10                        MOV     A,Key9Threshold
 313  0057  0080     E                  MOV     _GLOBE_VARIES[11],A
 314  0058                              endif
 315  0058              
 316  0058                              if      TouchKeyAmount > 9
 317  0058                              ;-KEY10 THRESHOLD
 318  0058  0F10                        MOV     A,Key10Threshold
 319  0059  0080     E                  MOV     _GLOBE_VARIES[12],A
 320  005A                              endif
 321  005A              
 322  005A                              if      TouchKeyAmount > 10
 323  005A                              ;-KEY11 THRESHOLD
 324  005A  0F10                        MOV     A,Key11Threshold
 325  005B  0080     E                  MOV     _GLOBE_VARIES[13],A
 326  005C                              endif
 327  005C              
 328  005C                              if      TouchKeyAmount > 11
 329  005C                              ;-KEY12 THRESHOLD
 330  005C  0F10                        MOV     A,Key12Threshold
 331  005D  0080     E                  MOV     _GLOBE_VARIES[14],A
 332  005E                              endif
 333  005E              
 334  005E                              if      TouchKeyAmount > 12
 335  005E                              ;-KEY13 THRESHOLD
 336  005E  0F10                        MOV     A,Key13Threshold
 337  005F  0080     E                  MOV     _GLOBE_VARIES[15],A
 338  0060                              endif
 339  0060              
 340  0060                              if      TouchKeyAmount > 13
 341  0060                              ;-KEY14 THRESHOLD
 342  0060  0F10                        MOV     A,Key14Threshold
 343  0061  0080     E                  MOV     _GLOBE_VARIES[16],A
 344  0062                              endif
 345  0062              
 346  0062                              if      TouchKeyAmount > 14
 347  0062                              ;-KEY15 THRESHOLD
 348  0062  0F10                        MOV     A,Key15Threshold
 349  0063  0080     E                  MOV     _GLOBE_VARIES[17],A
 350  0064                              endif
 351  0064              
 352  0064                              if      TouchKeyAmount > 15
 353  0064                              ;-KEY16 THRESHOLD
 354  0064  0F10                        MOV     A,Key16Threshold
 355  0065  0080     E                  MOV     _GLOBE_VARIES[18],A
 356  0066                              endif
 357  0066              
 358  0066                              if      TouchKeyAmount > 16
 359  0066                              ;-KEY17 THRESHOLD
 360  0066                              MOV     A,Key17Threshold
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次38

 361  0066                              MOV     _GLOBE_VARIES[19],A
 362  0066                              endif
 363  0066              
 364  0066                              if      TouchKeyAmount > 17
 365  0066                              ;-KEY18 THRESHOLD
 366  0066                              MOV     A,Key18Threshold
 367  0066                              MOV     _GLOBE_VARIES[20],A
 368  0066                              endif
 369  0066              
 370  0066                              if      TouchKeyAmount > 18
 371  0066                              ;-KEY19 THRESHOLD
 372  0066                              MOV     A,Key19Threshold
 373  0066                              MOV     _GLOBE_VARIES[21],A
 374  0066                              endif
 375  0066              
 376  0066                              if      TouchKeyAmount > 19
 377  0066                              ;-KEY20 THRESHOLD
 378  0066                              MOV     A,Key20Threshold
 379  0066                              MOV     _GLOBE_VARIES[22],A
 380  0066                              endif
 381  0066              
 382  0066                              if      TouchKeyAmount > 20
 383  0066                              ;-KEY17 THRESHOLD
 384  0066                              MOV     A,Key21Threshold
 385  0066                              MOV     _GLOBE_VARIES[23],A
 386  0066                              endif
 387  0066              
 388  0066                              if      TouchKeyAmount > 21
 389  0066                              ;-KEY18 THRESHOLD
 390  0066                              MOV     A,Key22Threshold
 391  0066                              MOV     _GLOBE_VARIES[24],A
 392  0066                              endif
 393  0066              
 394  0066                              if      TouchKeyAmount > 22
 395  0066                              ;-KEY19 THRESHOLD
 396  0066                              MOV     A,Key23Threshold
 397  0066                              MOV     _GLOBE_VARIES[25],A
 398  0066                              endif
 399  0066              
 400  0066                              if      TouchKeyAmount > 23
 401  0066                              ;-KEY20 THRESHOLD
 402  0066                              MOV     A,Key24Threshold
 403  0066                              MOV     _GLOBE_VARIES[26],A
 404  0066                              endif
 405  0066              
 406  0066                              if      TouchKeyAmount > 24
 407  0066                              ;-KEY17 THRESHOLD
 408  0066                              MOV     A,Key25Threshold
 409  0066                              MOV     _GLOBE_VARIES[27],A
 410  0066                              endif
 411  0066              
 412  0066                              if      TouchKeyAmount > 25
 413  0066                              ;-KEY18 THRESHOLD
 414  0066                              MOV     A,Key26Threshold
 415  0066                              MOV     _GLOBE_VARIES[28],A
 416  0066                              endif
 417  0066              
 418  0066                              if      TouchKeyAmount > 26
 419  0066                              ;-KEY19 THRESHOLD
 420  0066                              MOV     A,Key27Threshold
文件：MAIN_PROGRAM_V102.asm 编译器版本 2.96 页次39

 421  0066                              MOV     _GLOBE_VARIES[29],A
 422  0066                              endif
 423  0066              
 424  0066                              if      TouchKeyAmount > 27
 425  0066                              ;-KEY20 THRESHOLD
 426  0066                              MOV     A,Key28Threshold
 427  0066                              MOV     _GLOBE_VARIES[30],A
 428  0066                              endif
 429  0066              
 430  0066                              if      TouchKeyAmount > 28
 431  0066                              ;-KEY29 THRESHOLD
 432  0066                              MOV     A,Key29Threshold
 433  0066                              MOV     _GLOBE_VARIES[31],A
 434  0066                              endif
 435  0066              
 436  0066                              if      TouchKeyAmount > 29
 437  0066                              ;-KEY30 THRESHOLD
 438  0066                              MOV     A,Key30Threshold
 439  0066                              MOV     _GLOBE_VARIES[32],A
 440  0066                              endif
 441  0066              
 442  0066                              if      TouchKeyAmount > 30
 443  0066                              ;-KEY31 THRESHOLD
 444  0066                              MOV     A,Key31Threshold
 445  0066                              MOV     _GLOBE_VARIES[33],A
 446  0066                              endif
 447  0066              
 448  0066                              if      TouchKeyAmount > 31
 449  0066                              ;-KEY32 THRESHOLD
 450  0066                              MOV     A,Key32Threshold
 451  0066                              MOV     _GLOBE_VARIES[34],A
 452  0066                              endif
 453  0066              
 454  0066              
 455  0066  0003                        RET
 456  0067              
 457  0067              
 458  0067              
 459  0067              
 460  0067                              END


        0 Errors, 0 Warnings